# Twenty å°ˆæ¡ˆçµæ§‹æŒ‡å—

æœ¬æ–‡ä»¶èªªæ˜ Twenty CRM å°ˆæ¡ˆçš„å®Œæ•´çµæ§‹ï¼ŒåŒ…å« Monorepo æ¶æ§‹ã€å„å­å°ˆæ¡ˆçš„è·è²¬ï¼Œä»¥åŠå‰å¾Œç«¯çš„æ¨¡çµ„åŒ–è¨­è¨ˆã€‚

---

## ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¦½](#1-å°ˆæ¡ˆæ¦‚è¦½)
2. [æ ¹ç›®éŒ„çµæ§‹](#2-æ ¹ç›®éŒ„çµæ§‹)
3. [å­å°ˆæ¡ˆç¸½è¦½](#3-å­å°ˆæ¡ˆç¸½è¦½)
4. [å‰ç«¯æ¶æ§‹ï¼štwenty-front](#4-å‰ç«¯æ¶æ§‹twenty-front)
5. [å¾Œç«¯æ¶æ§‹ï¼štwenty-server](#5-å¾Œç«¯æ¶æ§‹twenty-server)
6. [å…±ç”¨åº«èˆ‡å·¥å…·](#6-å…±ç”¨åº«èˆ‡å·¥å…·)
7. [å°ˆæ¡ˆé–“çš„ä¾è³´é—œä¿‚](#7-å°ˆæ¡ˆé–“çš„ä¾è³´é—œä¿‚)
8. [å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤](#8-å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤)

---

## 1. å°ˆæ¡ˆæ¦‚è¦½

### Twenty æ˜¯ä»€éº¼ï¼Ÿ

Twenty æ˜¯ä¸€å€‹é–‹æºçš„ CRMï¼ˆå®¢æˆ¶é—œä¿‚ç®¡ç†ï¼‰ç³»çµ±ï¼Œæ¡ç”¨ç¾ä»£åŒ–çš„æŠ€è¡“æ¶æ§‹ï¼š

| å±¤ç´š | æŠ€è¡“ |
|------|------|
| å‰ç«¯ | React + Vite + Recoil + Emotion |
| å¾Œç«¯ | NestJS + TypeORM + GraphQL |
| è³‡æ–™åº« | PostgreSQL + Redis |
| å°ˆæ¡ˆç®¡ç† | Nx Monorepo |

### ç‚ºä»€éº¼ä½¿ç”¨ Monorepoï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚   å‚³çµ±å¤šå°ˆæ¡ˆ                          Monorepoï¼ˆTwenty æ¡ç”¨ï¼‰        â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚                                                                     â”‚
â”‚   å‰ç«¯å°ˆæ¡ˆ/                           twenty/                       â”‚
â”‚   â”œâ”€â”€ package.json                    â”œâ”€â”€ package.json              â”‚
â”‚   â””â”€â”€ node_modules/  â† å„è‡ªä¾è³´       â”œâ”€â”€ node_modules/  â† å…±ç”¨ä¾è³´ â”‚
â”‚                                       â”‚                             â”‚
â”‚   å¾Œç«¯å°ˆæ¡ˆ/                           â””â”€â”€ packages/                 â”‚
â”‚   â”œâ”€â”€ package.json                        â”œâ”€â”€ twenty-front/         â”‚
â”‚   â””â”€â”€ node_modules/  â† é‡è¤‡å®‰è£           â”œâ”€â”€ twenty-server/        â”‚
â”‚                                           â””â”€â”€ twenty-shared/        â”‚
â”‚                                                                     â”‚
â”‚   ç¼ºé»ï¼š                              å„ªé»ï¼š                         â”‚
â”‚   - ä¾è³´é‡è¤‡                          - ä¾è³´å…±ç”¨                     â”‚
â”‚   - ç‰ˆæœ¬ä¸ä¸€è‡´                        - çµ±ä¸€ç‰ˆæœ¬ç®¡ç†                 â”‚
â”‚   - ç¨‹å¼ç¢¼é›£ä»¥å…±ç”¨                    - è¼•é¬†å…±ç”¨ç¨‹å¼ç¢¼               â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. æ ¹ç›®éŒ„çµæ§‹

```
D:\project\y-crm\
â”‚
â”œâ”€â”€ ğŸ“„ package.json         â† æ ¹ä¾è³´å®šç¾© + å·¥ä½œå€è¨­å®š
â”œâ”€â”€ ğŸ“„ nx.json              â† Nx å·¥ä½œå€é…ç½®ï¼ˆä»»å‹™å®šç¾©ã€å¿«å–è¨­å®šï¼‰
â”œâ”€â”€ ğŸ“„ yarn.lock            â† ä¾è³´ç‰ˆæœ¬é–å®š
â”œâ”€â”€ ğŸ“„ tsconfig.base.json   â† å…±ç”¨ TypeScript è¨­å®š
â”‚
â”œâ”€â”€ ğŸ“ node_modules/        â† æ‰€æœ‰å¥—ä»¶ï¼ˆå…±ç”¨ï¼‰
â”‚
â”œâ”€â”€ ğŸ“ packages/            â† æ‰€æœ‰å­å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ twenty-front/       â† å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ twenty-server/      â† å¾Œç«¯ API
â”‚   â”œâ”€â”€ twenty-ui/          â† å…±ç”¨ UI çµ„ä»¶åº«
â”‚   â”œâ”€â”€ twenty-shared/      â† å…±ç”¨å‹åˆ¥èˆ‡å·¥å…·
â”‚   â””â”€â”€ ...                 â† å…¶ä»–å­å°ˆæ¡ˆ
â”‚
â”œâ”€â”€ ğŸ“ docker/              â† Docker éƒ¨ç½²è¨­å®š
â””â”€â”€ ğŸ“ docs/                â† å°ˆæ¡ˆæ–‡ä»¶
```

### é—œéµæª”æ¡ˆèªªæ˜

| æª”æ¡ˆ | ç”¨é€” | é¡æ¯” .NET |
|------|------|-----------|
| `package.json` | å®šç¾©ä¾è³´èˆ‡å·¥ä½œå€ | `.sln` + `NuGet.config` |
| `nx.json` | Nx å»ºç½®è¨­å®šèˆ‡ä»»å‹™å®šç¾© | `Directory.Build.props` |
| `yarn.lock` | é–å®šä¾è³´ç‰ˆæœ¬ | `packages.lock.json` |
| `tsconfig.base.json` | å…±ç”¨ TypeScript è¨­å®š | `Directory.Build.props` |

---

## 3. å­å°ˆæ¡ˆç¸½è¦½

```
packages/
â”œâ”€â”€ ğŸ–¥ï¸ twenty-front          â† å‰ç«¯æ‡‰ç”¨ï¼ˆReact + Viteï¼‰
â”œâ”€â”€ âš™ï¸ twenty-server          â† å¾Œç«¯ APIï¼ˆNestJS + GraphQLï¼‰
â”œâ”€â”€ ğŸ¨ twenty-ui              â† å…±ç”¨ UI çµ„ä»¶åº«
â”œâ”€â”€ ğŸ“¦ twenty-shared          â† å…±ç”¨å‹åˆ¥èˆ‡å·¥å…·å‡½å¼
â”œâ”€â”€ ğŸ“§ twenty-emails          â† éƒµä»¶æ¨¡æ¿ï¼ˆReact Emailï¼‰
â”œâ”€â”€ ğŸ”Œ twenty-zapier          â† Zapier æ•´åˆ
â”œâ”€â”€ ğŸŒ twenty-website         â† å®˜æ–¹ç¶²ç«™ï¼ˆNext.jsï¼‰
â”œâ”€â”€ ğŸ“š twenty-docs            â† æŠ€è¡“æ–‡ä»¶
â”œâ”€â”€ ğŸ§ª twenty-e2e-testing     â† E2E æ¸¬è©¦ï¼ˆPlaywrightï¼‰
â”œâ”€â”€ ğŸ› ï¸ twenty-cli             â† å‘½ä»¤åˆ—å·¥å…·
â”œâ”€â”€ ğŸ“± twenty-apps            â† æ“´å……æ‡‰ç”¨
â”œâ”€â”€ ğŸ”§ twenty-utils           â† å·¥å…·å‡½å¼
â”œâ”€â”€ ğŸ³ twenty-docker          â† Docker ç›¸é—œ
â””â”€â”€ ğŸ“˜ twenty-sdk             â† SDK
```

### å°ˆæ¡ˆåˆ†é¡

| é¡å‹ | å°ˆæ¡ˆ | èªªæ˜ |
|------|------|------|
| **æ ¸å¿ƒæ‡‰ç”¨** | twenty-front, twenty-server | ä¸»è¦çš„å‰å¾Œç«¯æ‡‰ç”¨ |
| **å…±ç”¨åº«** | twenty-ui, twenty-shared, twenty-utils | è·¨å°ˆæ¡ˆå…±ç”¨çš„ç¨‹å¼ç¢¼ |
| **æ•´åˆ** | twenty-zapier, twenty-emails | ç¬¬ä¸‰æ–¹æœå‹™æ•´åˆ |
| **æ–‡ä»¶/æ¸¬è©¦** | twenty-docs, twenty-e2e-testing | è¼”åŠ©é–‹ç™¼ |

---

## 4. å‰ç«¯æ¶æ§‹ï¼štwenty-front

### 4.1 ç›®éŒ„çµæ§‹

```
packages/twenty-front/
â”œâ”€â”€ ğŸ“„ index.html           â† HTML å…¥å£ï¼ˆå®šç¾© JS å…¥å£é»ï¼‰
â”œâ”€â”€ ğŸ“„ package.json         â† å°ˆæ¡ˆä¾è³´
â”œâ”€â”€ ğŸ“„ project.json         â† Nx ä»»å‹™å®šç¾©
â”œâ”€â”€ ğŸ“„ vite.config.ts       â† Vite å»ºç½®è¨­å®š
â”œâ”€â”€ ğŸ“„ tsconfig.json        â† TypeScript è¨­å®š
â”‚
â”œâ”€â”€ ğŸ“ public/              â† éœæ…‹è³‡æº
â”‚
â””â”€â”€ ğŸ“ src/
    â”œâ”€â”€ ğŸ“„ index.tsx        â† ç¨‹å¼å…¥å£ â­
    â”œâ”€â”€ ğŸ“„ index.css        â† å…¨åŸŸæ¨£å¼
    â”‚
    â”œâ”€â”€ ğŸ“ modules/         â† åŠŸèƒ½æ¨¡çµ„ï¼ˆæ ¸å¿ƒç¨‹å¼ç¢¼ï¼‰â­
    â”œâ”€â”€ ğŸ“ pages/           â† é é¢è·¯ç”±
    â”œâ”€â”€ ğŸ“ hooks/           â† å…±ç”¨ React Hooks
    â”œâ”€â”€ ğŸ“ utils/           â† å·¥å…·å‡½å¼
    â”œâ”€â”€ ğŸ“ types/           â† TypeScript å‹åˆ¥å®šç¾©
    â”œâ”€â”€ ğŸ“ config/          â† æ‡‰ç”¨ç¨‹å¼é…ç½®
    â”œâ”€â”€ ğŸ“ locales/         â† åœ‹éš›åŒ–ç¿»è­¯æª”
    â””â”€â”€ ğŸ“ testing/         â† æ¸¬è©¦ç›¸é—œ
```

### 4.2 å…¥å£æª”æ¡ˆæµç¨‹

```
index.html
    â”‚
    â”‚  <script src="/src/index.tsx">
    â–¼
src/index.tsx              â† ç¨‹å¼å…¥å£
    â”‚
    â”‚  import { App } from '@/app/components/App'
    â–¼
src/modules/app/components/App.tsx    â† æ ¹çµ„ä»¶
    â”‚
    â”‚  è·¯ç”±ã€Providerã€å…¨åŸŸç‹€æ…‹
    â–¼
src/pages/*                â† å„å€‹é é¢
```

### 4.3 modules ç›®éŒ„ - åŠŸèƒ½æ¨¡çµ„

`modules/` æ˜¯å‰ç«¯çš„æ ¸å¿ƒï¼Œæ¡ç”¨**åŠŸèƒ½å°å‘**çš„æ¨¡çµ„åŒ–è¨­è¨ˆï¼š

```
src/modules/
â”œâ”€â”€ ğŸ“ app/                 â† æ‡‰ç”¨ç¨‹å¼æ ¹çµ„ä»¶èˆ‡å…¨åŸŸè¨­å®š
â”œâ”€â”€ ğŸ“ ui/                  â† é€šç”¨ UI çµ„ä»¶
â”‚
â”œâ”€â”€ ğŸ“ auth/                â† èªè­‰æ¨¡çµ„
â”œâ”€â”€ ğŸ“ users/               â† ä½¿ç”¨è€…ç®¡ç†
â”œâ”€â”€ ğŸ“ workspace/           â† å·¥ä½œå€ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ companies/           â† å…¬å¸ç®¡ç†ï¼ˆCRM æ ¸å¿ƒï¼‰
â”œâ”€â”€ ğŸ“ people/              â† è¯çµ¡äººç®¡ç†ï¼ˆCRM æ ¸å¿ƒï¼‰
â”œâ”€â”€ ğŸ“ opportunities/       â† å•†æ©Ÿç®¡ç†ï¼ˆCRM æ ¸å¿ƒï¼‰
â”œâ”€â”€ ğŸ“ activities/          â† æ´»å‹•è¨˜éŒ„
â”œâ”€â”€ ğŸ“ tasks/               â† ä»»å‹™ç®¡ç†
â”œâ”€â”€ ğŸ“ notes/               â† ç­†è¨˜åŠŸèƒ½
â”‚
â”œâ”€â”€ ğŸ“ views/               â† è¦–åœ–ç®¡ç†
â”œâ”€â”€ ğŸ“ object-record/       â† ç‰©ä»¶è¨˜éŒ„ CRUD
â”œâ”€â”€ ğŸ“ object-metadata/     â† ç‰©ä»¶å…ƒè³‡æ–™
â”‚
â”œâ”€â”€ ğŸ“ settings/            â† è¨­å®šé é¢
â”œâ”€â”€ ğŸ“ navigation/          â† å°èˆªçµ„ä»¶
â”œâ”€â”€ ğŸ“ command-menu/        â† å‘½ä»¤é¸å–®
â”œâ”€â”€ ğŸ“ workflow/            â† å·¥ä½œæµç¨‹
â”‚
â””â”€â”€ ... (60+ å€‹æ¨¡çµ„)
```

### 4.4 æ¯å€‹æ¨¡çµ„çš„å…§éƒ¨çµæ§‹

```
modules/companies/          â† ä»¥ã€Œå…¬å¸ç®¡ç†ã€æ¨¡çµ„ç‚ºä¾‹
â”œâ”€â”€ ğŸ“ components/          â† React çµ„ä»¶
â”œâ”€â”€ ğŸ“ hooks/               â† æ¨¡çµ„å°ˆç”¨ Hooks
â”œâ”€â”€ ğŸ“ states/              â† Recoil ç‹€æ…‹
â”œâ”€â”€ ğŸ“ types/               â† TypeScript å‹åˆ¥
â”œâ”€â”€ ğŸ“ utils/               â† å·¥å…·å‡½å¼
â””â”€â”€ ğŸ“ graphql/             â† GraphQL æŸ¥è©¢/è®Šæ›´
```

### 4.5 èˆ‡å…¸å‹å…¥é–€å°ˆæ¡ˆçš„å°æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚   å…¸å‹å…¥é–€å°ˆæ¡ˆ                        Twentyï¼ˆä¼æ¥­ç´šï¼‰               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚                                                                     â”‚
â”‚   src/                                src/                          â”‚
â”‚   â”œâ”€â”€ main.tsx      â† å…¥å£            â”œâ”€â”€ index.tsx      â† å…¥å£     â”‚
â”‚   â”œâ”€â”€ App.tsx       â† æ ¹çµ„ä»¶          â”œâ”€â”€ modules/                  â”‚
â”‚   â”œâ”€â”€ components/   â† æ‰€æœ‰çµ„ä»¶        â”‚   â”œâ”€â”€ app/        â† æ ¹çµ„ä»¶  â”‚
â”‚   â”‚   â”œâ”€â”€ Button.tsx                  â”‚   â”œâ”€â”€ ui/         â† é€šç”¨çµ„ä»¶â”‚
â”‚   â”‚   â””â”€â”€ Header.tsx                  â”‚   â”œâ”€â”€ companies/  â† æ¥­å‹™æ¨¡çµ„â”‚
â”‚   â””â”€â”€ pages/                          â”‚   â””â”€â”€ people/     â† æ¥­å‹™æ¨¡çµ„â”‚
â”‚                                       â”œâ”€â”€ pages/                    â”‚
â”‚                                       â”œâ”€â”€ hooks/                    â”‚
â”‚                                       â””â”€â”€ utils/                    â”‚
â”‚                                                                     â”‚
â”‚   ç‰¹é»ï¼š                              ç‰¹é»ï¼š                         â”‚
â”‚   - æ‰å¹³çµæ§‹                          - æ¨¡çµ„åŒ–çµæ§‹                   â”‚
â”‚   - é©åˆå°å°ˆæ¡ˆ                        - é©åˆå¤§å‹åœ˜éšŠ                 â”‚
â”‚   - çµ„ä»¶å…¨æ”¾ä¸€èµ·                      - åŠŸèƒ½å…§èšï¼Œæ¨¡çµ„ç¨ç«‹           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. å¾Œç«¯æ¶æ§‹ï¼štwenty-server

### 5.1 ç›®éŒ„çµæ§‹

```
packages/twenty-server/
â”œâ”€â”€ ğŸ“„ package.json         â† å°ˆæ¡ˆä¾è³´
â”œâ”€â”€ ğŸ“„ project.json         â† Nx ä»»å‹™å®šç¾©
â”œâ”€â”€ ğŸ“„ nest-cli.json        â† NestJS CLI è¨­å®š
â”œâ”€â”€ ğŸ“„ tsconfig.json        â† TypeScript è¨­å®š
â”‚
â””â”€â”€ ğŸ“ src/
    â”œâ”€â”€ ğŸ“„ main.ts          â† ç¨‹å¼å…¥å£ â­
    â”œâ”€â”€ ğŸ“„ app.module.ts    â† æ ¹æ¨¡çµ„ â­
    â”‚
    â”œâ”€â”€ ğŸ“ engine/          â† æ ¸å¿ƒå¼•æ“ï¼ˆGraphQLã€èªè­‰ã€é…ç½®ï¼‰â­
    â”œâ”€â”€ ğŸ“ modules/         â† æ¥­å‹™æ¨¡çµ„ â­
    â”œâ”€â”€ ğŸ“ database/        â† è³‡æ–™åº«è¨­å®šèˆ‡ Migration
    â”œâ”€â”€ ğŸ“ command/         â† CLI æŒ‡ä»¤
    â”œâ”€â”€ ğŸ“ queue-worker/    â† èƒŒæ™¯ä»»å‹™è™•ç†
    â”œâ”€â”€ ğŸ“ filters/         â† ä¾‹å¤–éæ¿¾å™¨
    â”œâ”€â”€ ğŸ“ utils/           â† å·¥å…·å‡½å¼
    â””â”€â”€ ğŸ“ types/           â† TypeScript å‹åˆ¥
```

### 5.2 å…¥å£æª”æ¡ˆæµç¨‹

```
src/main.ts                 â† ç¨‹å¼å…¥å£
    â”‚
    â”‚  NestFactory.create(AppModule)
    â–¼
src/app.module.ts           â† æ ¹æ¨¡çµ„ï¼ˆè¨»å†Šæ‰€æœ‰æ¨¡çµ„ï¼‰
    â”‚
    â”œâ”€â”€ src/engine/*        â† æ ¸å¿ƒå¼•æ“æ¨¡çµ„
    â””â”€â”€ src/modules/*       â† æ¥­å‹™æ¨¡çµ„
```

### 5.3 engine ç›®éŒ„ - æ ¸å¿ƒå¼•æ“

`engine/` åŒ…å«æ¡†æ¶å±¤ç´šçš„æ ¸å¿ƒåŠŸèƒ½ï¼š

```
src/engine/
â”œâ”€â”€ ğŸ“ core-modules/        â† æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ auth/               â† èªè­‰æˆæ¬Š
â”‚   â”œâ”€â”€ graphql/            â† GraphQL è¨­å®š
â”‚   â”œâ”€â”€ workspace/          â† å·¥ä½œå€ç®¡ç†
â”‚   â”œâ”€â”€ user/               â† ä½¿ç”¨è€…ç®¡ç†
â”‚   â”œâ”€â”€ billing/            â† è¨ˆè²»æ¨¡çµ„
â”‚   â”œâ”€â”€ logger/             â† æ—¥èªŒæœå‹™
â”‚   â”œâ”€â”€ twenty-config/      â† é…ç½®æœå‹™
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ metadata-modules/    â† å…ƒè³‡æ–™æ¨¡çµ„
â”‚   â”œâ”€â”€ object-metadata/    â† ç‰©ä»¶å…ƒè³‡æ–™
â”‚   â”œâ”€â”€ field-metadata/     â† æ¬„ä½å…ƒè³‡æ–™
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ğŸ“ workspace-manager/   â† å·¥ä½œå€ç®¡ç†å™¨
```

### 5.4 modules ç›®éŒ„ - æ¥­å‹™æ¨¡çµ„

`modules/` åŒ…å« CRM çš„æ¥­å‹™é‚è¼¯ï¼š

```
src/modules/
â”œâ”€â”€ ğŸ“ company/             â† å…¬å¸
â”œâ”€â”€ ğŸ“ person/              â† è¯çµ¡äºº
â”œâ”€â”€ ğŸ“ opportunity/         â† å•†æ©Ÿ
â”œâ”€â”€ ğŸ“ task/                â† ä»»å‹™
â”œâ”€â”€ ğŸ“ note/                â† ç­†è¨˜
â”œâ”€â”€ ğŸ“ calendar/            â† è¡Œäº‹æ›†
â”œâ”€â”€ ğŸ“ messaging/           â† è¨Šæ¯
â”œâ”€â”€ ğŸ“ attachment/          â† é™„ä»¶
â”œâ”€â”€ ğŸ“ workflow/            â† å·¥ä½œæµç¨‹
â”œâ”€â”€ ğŸ“ dashboard/           â† å„€è¡¨æ¿
â”œâ”€â”€ ğŸ“ favorite/            â† æ”¶è—
â””â”€â”€ ğŸ“ connected-account/   â† é€£çµå¸³è™Ÿ
```

### 5.5 æ¯å€‹æ¨¡çµ„çš„å…§éƒ¨çµæ§‹ï¼ˆNestJS æ¨™æº–ï¼‰

```
modules/company/            â† ä»¥ã€Œå…¬å¸ã€æ¨¡çµ„ç‚ºä¾‹
â”œâ”€â”€ ğŸ“„ company.module.ts    â† æ¨¡çµ„å®šç¾©
â”œâ”€â”€ ğŸ“ controllers/         â† REST API æ§åˆ¶å™¨ï¼ˆè‹¥æœ‰ï¼‰
â”œâ”€â”€ ğŸ“ resolvers/           â† GraphQL Resolver
â”œâ”€â”€ ğŸ“ services/            â† æ¥­å‹™é‚è¼¯æœå‹™
â”œâ”€â”€ ğŸ“ entities/            â† TypeORM å¯¦é«”
â”œâ”€â”€ ğŸ“ dtos/                â† è³‡æ–™å‚³è¼¸ç‰©ä»¶
â”œâ”€â”€ ğŸ“ interfaces/          â† TypeScript ä»‹é¢
â””â”€â”€ ğŸ“ repositories/        â† è³‡æ–™å­˜å–å±¤ï¼ˆè‹¥æœ‰ï¼‰
```

---

## 6. å…±ç”¨åº«èˆ‡å·¥å…·

### 6.1 twenty-shared - å…±ç”¨å‹åˆ¥èˆ‡å·¥å…·

```
packages/twenty-shared/
â””â”€â”€ src/
    â”œâ”€â”€ ğŸ“ types/           â† å…±ç”¨å‹åˆ¥å®šç¾©
    â”œâ”€â”€ ğŸ“ utils/           â† å…±ç”¨å·¥å…·å‡½å¼
    â””â”€â”€ ğŸ“ constants/       â† å…±ç”¨å¸¸æ•¸
```

å‰å¾Œç«¯éƒ½å¯ä»¥å¼•ç”¨ï¼š
```typescript
// å‰ç«¯æˆ–å¾Œç«¯éƒ½å¯ä»¥é€™æ¨£å¼•ç”¨
import { SomeType } from 'twenty-shared';
```

### 6.2 twenty-ui - å…±ç”¨ UI çµ„ä»¶

```
packages/twenty-ui/
â””â”€â”€ src/
    â”œâ”€â”€ ğŸ“ components/      â† UI çµ„ä»¶
    â”œâ”€â”€ ğŸ“ theme/           â† ä¸»é¡Œè¨­å®š
    â””â”€â”€ ğŸ“ utilities/       â† UI å·¥å…·
```

å‰ç«¯å¼•ç”¨ï¼š
```typescript
import { Button, Modal } from 'twenty-ui';
```

---

## 7. å°ˆæ¡ˆé–“çš„ä¾è³´é—œä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚                        ä¾ è³´ é—œ ä¿‚ åœ–                               â”‚
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚twenty-front â”‚         â”‚twenty-serverâ”‚                          â”‚
â”‚   â”‚  (å‰ç«¯)     â”‚         â”‚  (å¾Œç«¯)     â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚          â”‚                       â”‚                                  â”‚
â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                  â”‚
â”‚          â”œâ”€â”€â”€â–ºâ”‚ twenty-ui   â”‚    â”‚                                  â”‚
â”‚          â”‚    â”‚ (UI çµ„ä»¶)   â”‚    â”‚                                  â”‚
â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                  â”‚
â”‚          â”‚                       â”‚                                  â”‚
â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                  â”‚
â”‚          â””â”€â”€â”€â–ºâ”‚twenty-sharedâ”‚â—„â”€â”€â”€â”˜                                  â”‚
â”‚               â”‚ (å…±ç”¨å‹åˆ¥)  â”‚                                       â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                     â”‚
â”‚   å»ºç½®é †åºï¼štwenty-shared â†’ twenty-ui â†’ twenty-front               â”‚
â”‚             twenty-shared â†’ twenty-server                          â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Nx è‡ªå‹•è™•ç†ä¾è³´

ç•¶ä½ åŸ·è¡Œ `npx nx build twenty-front` æ™‚ï¼ŒNx æœƒè‡ªå‹•ï¼š
1. å…ˆå»ºç½® `twenty-shared`
2. å†å»ºç½® `twenty-ui`
3. æœ€å¾Œå»ºç½® `twenty-front`

---

## 8. å¸¸ç”¨é–‹ç™¼æŒ‡ä»¤

### 8.1 å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ

```powershell
# ä¸€éµå•Ÿå‹•å…¨éƒ¨ï¼ˆå‰ç«¯ + å¾Œç«¯ + Workerï¼‰
npm run start

# åˆ†é–‹å•Ÿå‹•
npx nx start twenty-server    # åªå•Ÿå‹•å¾Œç«¯
npx nx start twenty-front     # åªå•Ÿå‹•å‰ç«¯
```

### 8.2 å»ºç½®

```powershell
# å»ºç½®ç‰¹å®šå°ˆæ¡ˆ
npx nx build twenty-server
npx nx build twenty-front

# å»ºç½®æ‰€æœ‰å°ˆæ¡ˆ
npx nx run-many -t build
```

### 8.3 æ¸¬è©¦

```powershell
# å–®å…ƒæ¸¬è©¦
npx nx test twenty-server
npx nx test twenty-front

# æ•´åˆæ¸¬è©¦
npx nx run twenty-server:test:integration:with-db-reset

# E2E æ¸¬è©¦
npx nx e2e twenty-e2e-testing
```

### 8.4 ç¨‹å¼ç¢¼å“è³ª

```powershell
# Lint æª¢æŸ¥
npx nx lint twenty-front
npx nx lint twenty-server

# å‹åˆ¥æª¢æŸ¥
npx nx typecheck twenty-front
npx nx typecheck twenty-server

# æ ¼å¼åŒ–
npx nx fmt twenty-front --configuration=fix
```

### 8.5 è³‡æ–™åº«

```powershell
# åŸ·è¡Œ Migration
npx nx run twenty-server:database:migrate:prod

# é‡ç½®è³‡æ–™åº«
npx nx database:reset twenty-server

# åŒæ­¥ Metadata
npx nx run twenty-server:command workspace:sync-metadata
```

---

## é™„éŒ„ï¼šå¿«é€Ÿåƒè€ƒ

### æª”æ¡ˆå°ç…§è¡¨

| æª”æ¡ˆ | ä½ç½® | ç”¨é€” |
|------|------|------|
| `nx.json` | æ ¹ç›®éŒ„ | Nx å·¥ä½œå€é…ç½® |
| `project.json` | å„å­å°ˆæ¡ˆ | å°ˆæ¡ˆä»»å‹™å®šç¾© |
| `index.html` | twenty-front | å®šç¾©å‰ç«¯å…¥å£ |
| `index.tsx` | twenty-front/src | å‰ç«¯ç¨‹å¼å…¥å£ |
| `main.ts` | twenty-server/src | å¾Œç«¯ç¨‹å¼å…¥å£ |
| `app.module.ts` | twenty-server/src | NestJS æ ¹æ¨¡çµ„ |

### ç›®éŒ„å°ç…§è¡¨

| ç›®éŒ„ | å‰ç«¯ (twenty-front) | å¾Œç«¯ (twenty-server) |
|------|---------------------|----------------------|
| æ ¸å¿ƒé‚è¼¯ | `src/modules/` | `src/modules/` + `src/engine/` |
| é é¢/è·¯ç”± | `src/pages/` | N/A |
| å…±ç”¨å·¥å…· | `src/utils/` | `src/utils/` |
| å‹åˆ¥å®šç¾© | `src/types/` | `src/types/` |
| é…ç½® | `src/config/` | `src/engine/core-modules/twenty-config/` |

---

## æ›´æ–°æ—¥èªŒ

| æ—¥æœŸ | æ›´æ–°å…§å®¹ |
|------|----------|
| 2025-01-07 | åˆç‰ˆå»ºç«‹ |
