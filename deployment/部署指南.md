# Twenty CRM æ¨™æº–åŒ–éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—æä¾›å®Œæ•´çš„ Twenty CRM Docker éƒ¨ç½²æµç¨‹ï¼Œé©ç”¨æ–¼ï¼š
- AWS EC2 å¯¦ä¾‹
- å…¶ä»–é›²æœå‹™ï¼ˆVultrã€DigitalOcean ç­‰ï¼‰
- æœ¬åœ°æ¸¬è©¦ç’°å¢ƒ

## ğŸ¯ éƒ¨ç½²æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Twenty CRM (Docker Compose)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€â”€ Server (Frontend + Backend)    â”‚  ç«¯å£ 8866
â”‚  â”œâ”€â”€ Worker (èƒŒæ™¯ä»»å‹™)              â”‚
â”‚  â”œâ”€â”€ PostgreSQL 16                  â”‚  ç«¯å£ 5432 (å…§éƒ¨)
â”‚  â””â”€â”€ Redis 7                        â”‚  ç«¯å£ 6379 (å…§éƒ¨)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æº–å‚™å·¥ä½œ

### 1. æ¨™æº–å‚™ä»½æ–‡ä»¶

**ä½ç½®ï¼š**
```
~/twenty-standard-backup-20251103_182511.dump
```

**åŒ…å«å…§å®¹ï¼š**
- âœ… å®Œæ•´çš„ core schemaï¼ˆåŒ…å« fieldMetadataï¼‰
- âœ… å®Œæ•´çš„ workspace schemaï¼ˆåŒ…å«å ±åƒ¹å–®ã€Workflowï¼‰
- âœ… ä¿®å¾©çš„ primary keysï¼ˆsalesquote, salesquotelineitemï¼‰
- âœ… æ‰€æœ‰ç”¨æˆ¶æ•¸æ“šï¼ˆéœ€è¦æ¸…ç†ï¼‰

### 2. å¿…è¦æ–‡ä»¶æ¸…å–®

```
deployment/
â”œâ”€â”€ docker-compose.yml              # AWS éƒ¨ç½²é…ç½®ï¼ˆ8866 ç«¯å£ï¼‰
â”œâ”€â”€ docker-compose.local-test.yml   # æœ¬åœ°æ¸¬è©¦é…ç½®ï¼ˆ9999 ç«¯å£ï¼‰
â”œâ”€â”€ .env                            # ç’°å¢ƒè®Šæ•¸ï¼ˆéœ€è¦ä¿®æ”¹ï¼‰
â”œâ”€â”€ .env.example                    # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â””â”€â”€ scripts/
    â”œâ”€â”€ init-clean-database.sh      # æ•¸æ“šåº«æ¸…ç†è…³æœ¬
    â”œâ”€â”€ quick-fix-url.sh            # URL å¿«é€Ÿä¿®æ­£è…³æœ¬
    â”œâ”€â”€ backup.sh                   # å‚™ä»½è…³æœ¬
    â””â”€â”€ restore.sh                  # é‚„åŸè…³æœ¬
```

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### æ­¥é©Ÿ 1: æº–å‚™ Docker æ˜ åƒ

#### é¸é … A: ä½¿ç”¨å·²æ§‹å»ºçš„æ˜ åƒï¼ˆæ¨è–¦ï¼‰

```bash
# ç¢ºèªæœ¬åœ°æ˜ åƒå­˜åœ¨
docker images | grep twenty-zh-tw

# æ‡‰è©²çœ‹åˆ°ï¼š
# twenty-zh-tw    latest    [IMAGE_ID]    [SIZE]
```

#### é¸é … B: é‡æ–°æ§‹å»ºæ˜ åƒï¼ˆå¦‚æœä»£ç¢¼æœ‰æ›´æ–°ï¼‰

```bash
# åœ¨é …ç›®æ ¹ç›®éŒ„åŸ·è¡Œ
cd /Users/ym/twenty-ym

# æ§‹å»ºæ˜ åƒ
docker build \
  -f packages/twenty-docker/twenty/Dockerfile \
  -t twenty-zh-tw:latest \
  --build-arg REACT_APP_SERVER_BASE_URL=http://localhost:8866 \
  --build-arg APP_VERSION=v1.0.0 \
  .

# æ§‹å»ºæ™‚é–“ï¼šç´„ 20-30 åˆ†é˜
```

### æ­¥é©Ÿ 2: ä¸Šå‚³åˆ° AWSï¼ˆé¦–æ¬¡éƒ¨ç½²ï¼‰

#### 2.1 æº–å‚™æª”æ¡ˆ

```bash
# å‰µå»ºéƒ¨ç½²åŒ…
cd ~/
tar -czf twenty-aws-deployment.tar.gz \
  twenty-ym/deployment/docker-compose.yml \
  twenty-ym/deployment/.env \
  twenty-ym/deployment/scripts/ \
  twenty-standard-backup-20251103_182511.dump

# æª¢æŸ¥å¤§å°
ls -lh twenty-aws-deployment.tar.gz
```

#### 2.2 ä¸Šå‚³åˆ° AWS

```bash
# ä½¿ç”¨ SCP ä¸Šå‚³ï¼ˆæ›¿æ›æˆä½ çš„ AWS IPï¼‰
scp -i your-key.pem twenty-aws-deployment.tar.gz ubuntu@YOUR_AWS_IP:~/

# ä¸Šå‚³ Docker æ˜ åƒï¼ˆé¸é … 1ï¼šä¿å­˜ç‚ºæ–‡ä»¶ï¼‰
docker save twenty-zh-tw:latest | gzip > twenty-image.tar.gz
scp -i your-key.pem twenty-image.tar.gz ubuntu@YOUR_AWS_IP:~/

# æˆ–é¸é … 2ï¼šæ¨é€åˆ° Docker Hubï¼ˆæ›´å¿«ï¼‰
docker tag twenty-zh-tw:latest YOUR_DOCKERHUB_USERNAME/twenty-zh-tw:latest
docker push YOUR_DOCKERHUB_USERNAME/twenty-zh-tw:latest
```

### æ­¥é©Ÿ 3: åœ¨ AWS ä¸Šéƒ¨ç½²

#### 3.1 é€£æ¥åˆ° AWS

```bash
ssh -i your-key.pem ubuntu@YOUR_AWS_IP
```

#### 3.2 å®‰è£ Dockerï¼ˆå¦‚æœé‚„æ²’å®‰è£ï¼‰

```bash
# æ›´æ–°ç³»çµ±
sudo yum update -y

# å®‰è£ Docker
sudo yum install docker -y
sudo service docker start
sudo usermod -a -G docker ec2-user

# å®‰è£ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# é©—è­‰
docker --version
docker-compose --version
```

#### 3.3 è§£å£“ä¸¦æº–å‚™

```bash
# è§£å£“éƒ¨ç½²åŒ…
tar -xzf twenty-aws-deployment.tar.gz

# è¼‰å…¥ Docker æ˜ åƒï¼ˆå¦‚æœç”¨æ–‡ä»¶æ–¹å¼ï¼‰
gunzip -c twenty-image.tar.gz | docker load

# æˆ–å¾ Docker Hub æ‹‰å–
docker pull YOUR_DOCKERHUB_USERNAME/twenty-zh-tw:latest
docker tag YOUR_DOCKERHUB_USERNAME/twenty-zh-tw:latest twenty-zh-tw:latest

# é€²å…¥éƒ¨ç½²ç›®éŒ„
cd twenty-ym/deployment
```

#### 3.4 ä¿®æ”¹ç’°å¢ƒè®Šæ•¸

```bash
# ç·¨è¼¯ .env æ–‡ä»¶
nano .env

# å¿…é ˆä¿®æ”¹çš„è®Šæ•¸ï¼š
# - SERVER_URL=http://YOUR_AWS_IP:8866 æˆ–ä½ çš„åŸŸå
# - FRONTEND_URL=http://YOUR_AWS_IP:8866
# - PG_DATABASE_URL=postgres://postgres:your_password@db:5432/default
# - APP_SECRET=ç”Ÿæˆä¸€å€‹æ–°çš„éš¨æ©Ÿå­—ä¸²
```

#### 3.5 å•Ÿå‹•æœå‹™

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker-compose up -d

# æª¢æŸ¥ç‹€æ…‹
docker-compose ps

# æ‡‰è©²çœ‹åˆ° 4 å€‹æœå‹™éƒ½æ˜¯ healthy
```

#### 3.6 é‚„åŸæ•¸æ“šåº«

```bash
# é‚„åŸæ¨™æº–å‚™ä»½
docker exec -i twenty-db pg_restore \
  -U postgres \
  -d default \
  --clean \
  --if-exists \
  --no-owner \
  --no-acl \
  < ~/twenty-standard-backup-20251103_182511.dump

# ç­‰å¾…é‚„åŸå®Œæˆï¼ˆç´„ 1-2 åˆ†é˜ï¼‰
```

#### 3.7 æ¸…ç†æ•¸æ“šï¼ˆåªä¿ç•™éœ€è¦çš„ç”¨æˆ¶ï¼‰

```bash
# çµ¦è…³æœ¬åŸ·è¡Œæ¬Šé™
chmod +x scripts/init-clean-database.sh

# åŸ·è¡Œæ¸…ç†ï¼ˆäº’å‹•å¼ï¼‰
./scripts/init-clean-database.sh

# æˆ–ä½¿ç”¨è‡ªå‹•åŒ–æ–¹å¼
docker exec twenty-db psql -U postgres -d default << 'EOF'
DROP SCHEMA IF EXISTS workspace_3vglbabhzpqb7liexnitusr4m CASCADE;
DELETE FROM core."user" WHERE email LIKE '%@apple.dev';
DELETE FROM workspace_1wgvd1injqtife6y4rvfbu3h5."workspaceMember" WHERE "userEmail" != 'notyenyu@gmail.com';
DELETE FROM core."user" WHERE email != 'notyenyu@gmail.com';
EOF
```

#### 3.8 é‡å•Ÿæœå‹™

```bash
# é‡å•Ÿè®“æ‰€æœ‰ä¿®æ”¹ç”Ÿæ•ˆ
docker-compose restart server worker

# ç­‰å¾…æœå‹™å•Ÿå‹•
sleep 15

# æª¢æŸ¥ç‹€æ…‹
docker-compose ps
```

### æ­¥é©Ÿ 4: è¨ªå•æ¸¬è©¦

```bash
# è¨ªå•ç¶²å€
http://YOUR_AWS_IP:8866

# ç™»å…¥å¸³è™Ÿ
Email: notyenyu@gmail.com
Password: ä½ çš„å¯†ç¢¼

# é©—è­‰åŠŸèƒ½
âœ“ å ±åƒ¹å–®åˆ—è¡¨
âœ“ å ±åƒ¹å–®ç´°é …åˆ—è¡¨
âœ“ Workflow
```

---

## ğŸ”§ æ—¥å¸¸ç¶­è­·å‘½ä»¤

### æŸ¥çœ‹æ—¥èªŒ

```bash
# æŸ¥çœ‹æ‰€æœ‰æœå‹™æ—¥èªŒ
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœå‹™
docker-compose logs -f server
docker-compose logs -f worker
docker-compose logs -f db
```

### å‚™ä»½æ•¸æ“š

```bash
# åŸ·è¡Œå‚™ä»½è…³æœ¬
./scripts/backup.sh

# æˆ–æ‰‹å‹•å‚™ä»½
docker exec twenty-db pg_dump -U postgres -d default --format=custom > backup-$(date +%Y%m%d).dump
```

### é‡å•Ÿæœå‹™

```bash
# é‡å•Ÿæ‰€æœ‰æœå‹™
docker-compose restart

# é‡å•Ÿç‰¹å®šæœå‹™
docker-compose restart server worker
```

### åœæ­¢æœå‹™

```bash
# åœæ­¢ï¼ˆä¿ç•™æ•¸æ“šï¼‰
docker-compose stop

# åœæ­¢ä¸¦åˆªé™¤å®¹å™¨ï¼ˆä¿ç•™ volumesï¼‰
docker-compose down

# âš ï¸ å±éšªï¼šåœæ­¢ä¸¦åˆªé™¤æ‰€æœ‰æ•¸æ“š
docker-compose down -v
```

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### æ›´æ–°ä»£ç¢¼ï¼ˆå¾ Mac pull bugfix å¾Œï¼‰

#### åœ¨ Mac ä¸Šï¼š

```bash
# 1. Pull æœ€æ–°ä»£ç¢¼
cd /Users/ym/twenty-ym
git pull origin main

# 2. æœ¬åœ°æ¸¬è©¦
# ... æ¸¬è©¦æµç¨‹ ...

# 3. é‡æ–°æ§‹å»º Docker æ˜ åƒ
docker build \
  -f packages/twenty-docker/twenty/Dockerfile \
  -t twenty-zh-tw:v1.0.1 \
  --build-arg REACT_APP_SERVER_BASE_URL=http://localhost:8866 \
  --build-arg APP_VERSION=v1.0.1 \
  .

# 4. æ¨é€åˆ° Docker Hub
docker tag twenty-zh-tw:v1.0.1 YOUR_USERNAME/twenty-zh-tw:v1.0.1
docker push YOUR_USERNAME/twenty-zh-tw:v1.0.1
```

#### åœ¨ AWS ä¸Šï¼š

```bash
# 1. æ‹‰å–æ–°æ˜ åƒ
docker pull YOUR_USERNAME/twenty-zh-tw:v1.0.1
docker tag YOUR_USERNAME/twenty-zh-tw:v1.0.1 twenty-zh-tw:latest

# 2. æ›´æ–°æœå‹™
cd ~/twenty-ym/deployment
docker-compose pull
docker-compose up -d

# 3. æª¢æŸ¥æœå‹™
docker-compose ps
docker-compose logs -f server
```

---

## ğŸ› å¸¸è¦‹å•é¡Œæ’æŸ¥

### å•é¡Œ 1: ç™»å…¥å¾Œé¡¯ç¤º "You're not member of this workspace"

**åŸå› ï¼š** ç”¨æˆ¶ä¸åœ¨ workspace æˆå“¡åˆ—è¡¨ä¸­

**è§£æ±ºï¼š**
```bash
# æª¢æŸ¥ç”¨æˆ¶
docker exec twenty-db psql -U postgres -d default -c "
SELECT email FROM core.\"user\";
"

# æª¢æŸ¥ workspace æˆå“¡
docker exec twenty-db psql -U postgres -d default -c "
SELECT \"userEmail\" FROM workspace_1wgvd1injqtife6y4rvfbu3h5.\"workspaceMember\";
"

# å¦‚æœç”¨æˆ¶ä¸åœ¨æˆå“¡åˆ—è¡¨ï¼ŒåŸ·è¡Œæ¸…ç†è…³æœ¬
./scripts/init-clean-database.sh
```

### å•é¡Œ 2: "Entity salesquote does not have a primary column"

**åŸå› ï¼š** æ•¸æ“šåº«è¡¨æ²’æœ‰ primary key ç´„æŸ

**è§£æ±ºï¼š**
```bash
# æª¢æŸ¥ primary keys
docker exec twenty-db psql -U postgres -d default -c "
SELECT conname
FROM pg_constraint
WHERE conname IN ('salesquote_pkey', 'salesquotelineitem_pkey');
"

# å¦‚æœä¸å­˜åœ¨ï¼Œæ·»åŠ 
docker exec twenty-db psql -U postgres -d default -c "
ALTER TABLE workspace_1wgvd1injqtife6y4rvfbu3h5._salesquote
ADD CONSTRAINT salesquote_pkey PRIMARY KEY (id);

ALTER TABLE workspace_1wgvd1injqtife6y4rvfbu3h5._salesquotelineitem
ADD CONSTRAINT salesquotelineitem_pkey PRIMARY KEY (id);
"

# é‡å•Ÿæœå‹™
docker-compose restart server worker
```

### å•é¡Œ 3: å‰ç«¯ API è«‹æ±‚å¤±æ•—ï¼ˆERR_CONNECTION_REFUSEDï¼‰

**åŸå› ï¼š** å‰ç«¯é…ç½®çš„ SERVER_BASE_URL ä¸æ­£ç¢º

**è§£æ±ºï¼š**
```bash
# ä½¿ç”¨å¿«é€Ÿä¿®å¾©è…³æœ¬
./scripts/quick-fix-url.sh docker-compose.yml http://YOUR_URL:8866

# é©—è­‰
docker exec twenty-server grep "REACT_APP_SERVER_BASE_URL" /app/packages/twenty-server/dist/front/index.html

# å¼·åˆ¶åˆ·æ–°ç€è¦½å™¨ï¼ˆCmd+Shift+Rï¼‰
```

### å•é¡Œ 4: æœå‹™ç„¡æ³•å•Ÿå‹•

**æª¢æŸ¥æ­¥é©Ÿï¼š**
```bash
# 1. æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# 2. æŸ¥çœ‹æ—¥èªŒ
docker-compose logs server
docker-compose logs db

# 3. æª¢æŸ¥ç«¯å£å ç”¨
netstat -tuln | grep -E '8866|5432|6379'

# 4. é‡å•Ÿæœå‹™
docker-compose restart
```

---

## ğŸ“ é‡è¦æ³¨æ„äº‹é …

### âš ï¸ æ•¸æ“šå®‰å…¨

1. **å®šæœŸå‚™ä»½**
   ```bash
   # æ¯é€±åŸ·è¡Œä¸€æ¬¡
   ./scripts/backup.sh
   ```

2. **å‚™ä»½æ–‡ä»¶ä¿å­˜ä½ç½®**
   - æœ¬åœ°ï¼š`~/twenty-backups/`
   - AWSï¼š`~/backups/`
   - å»ºè­°ï¼šé¡å¤–ä¸Šå‚³åˆ° S3 æˆ–å…¶ä»–é›²å­˜å„²

3. **é‡å•Ÿå‰å…ˆå‚™ä»½**
   ```bash
   # åœ¨åŸ·è¡Œ docker-compose down -v å‰
   ./scripts/backup.sh
   ```

### ğŸ”’ å®‰å…¨å»ºè­°

1. **ä¿®æ”¹é è¨­å¯†ç¢¼**
   - PostgreSQL å¯†ç¢¼
   - Redis å¯†ç¢¼ï¼ˆå¦‚æœå•Ÿç”¨ï¼‰
   - APP_SECRET

2. **é˜²ç«ç‰†è¨­ç½®**
   ```bash
   # åªé–‹æ”¾å¿…è¦ç«¯å£
   sudo ufw allow 22      # SSH
   sudo ufw allow 8866    # Twenty CRM
   sudo ufw enable
   ```

3. **å®šæœŸæ›´æ–°**
   ```bash
   # æ›´æ–°ç³»çµ±
   sudo yum update -y

   # æ›´æ–° Docker æ˜ åƒ
   docker pull twenty-zh-tw:latest
   ```

---

## ğŸ¯ å¿«é€Ÿåƒè€ƒ

### å¸¸ç”¨å‘½ä»¤

```bash
# å•Ÿå‹•æœå‹™
docker-compose up -d

# åœæ­¢æœå‹™
docker-compose stop

# é‡å•Ÿæœå‹™
docker-compose restart

# æŸ¥çœ‹ç‹€æ…‹
docker-compose ps

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# é€²å…¥å®¹å™¨
docker exec -it twenty-server sh
docker exec -it twenty-db psql -U postgres -d default

# å‚™ä»½æ•¸æ“š
./scripts/backup.sh

# é‚„åŸæ•¸æ“š
./scripts/restore.sh backup-file.dump

# ä¿®æ­£å‰ç«¯ URLï¼ˆé‡å•Ÿå¾Œéœ€è¦ï¼‰
./scripts/quick-fix-url.sh docker-compose.yml http://your-url:8866
```

### ç’°å¢ƒè®Šæ•¸å¿«é€Ÿåƒè€ƒ

```bash
# æ ¸å¿ƒè®Šæ•¸
SERVER_URL=http://your-domain:8866
FRONTEND_URL=http://your-domain:8866
PG_DATABASE_URL=postgres://postgres:password@db:5432/default
REDIS_URL=redis://redis:6379

# å®‰å…¨è®Šæ•¸
APP_SECRET=ä½ çš„éš¨æ©Ÿå­—ä¸²ï¼ˆè‡³å°‘ 32 å­—ç¬¦ï¼‰
ACCESS_TOKEN_SECRET=ä½ çš„éš¨æ©Ÿå­—ä¸²
LOGIN_TOKEN_SECRET=ä½ çš„éš¨æ©Ÿå­—ä¸²
REFRESH_TOKEN_SECRET=ä½ çš„éš¨æ©Ÿå­—ä¸²
FILE_TOKEN_SECRET=ä½ çš„éš¨æ©Ÿå­—ä¸²
```

---

## ğŸ†˜ ç·Šæ€¥æ¢å¾©

### å¦‚æœæœå‹™å®Œå…¨ç„¡æ³•å•Ÿå‹•

```bash
# 1. åœæ­¢æ‰€æœ‰æœå‹™
docker-compose down

# 2. åˆªé™¤æ‰€æœ‰å®¹å™¨å’Œç¶²è·¯ï¼ˆä¿ç•™ volumesï¼‰
docker-compose down

# 3. é‡æ–°å•Ÿå‹•
docker-compose up -d

# 4. å¦‚æœé‚„æ˜¯ä¸è¡Œï¼ŒæŸ¥çœ‹è©³ç´°æ—¥èªŒ
docker-compose logs server | tail -100
```

### å¦‚æœæ•¸æ“šæå£

```bash
# 1. åœæ­¢æœå‹™
docker-compose down

# 2. åˆªé™¤æå£çš„æ•¸æ“š
docker-compose down -v

# 3. é‡æ–°å•Ÿå‹•
docker-compose up -d

# 4. é‚„åŸå‚™ä»½
docker exec -i twenty-db pg_restore -U postgres -d default --clean < your-backup.dump

# 5. æ¸…ç†æ•¸æ“š
./scripts/init-clean-database.sh

# 6. é‡å•Ÿ
docker-compose restart server worker
```

---

## ğŸ“Š ç›£æ§èˆ‡å¥åº·æª¢æŸ¥

### æª¢æŸ¥æœå‹™å¥åº·ç‹€æ…‹

```bash
# æ–¹æ³• 1: Docker Compose
docker-compose ps

# æ–¹æ³• 2: è¨ªå•å¥åº·æª¢æŸ¥ç«¯é»
curl http://localhost:8866/healthz

# æ–¹æ³• 3: æŸ¥çœ‹å®¹å™¨ç‹€æ…‹
docker ps | grep twenty
```

### æ€§èƒ½ç›£æ§

```bash
# æŸ¥çœ‹å®¹å™¨è³‡æºä½¿ç”¨
docker stats

# æŸ¥çœ‹æ•¸æ“šåº«å¤§å°
docker exec twenty-db psql -U postgres -d default -c "
SELECT
    pg_database.datname,
    pg_size_pretty(pg_database_size(pg_database.datname)) AS size
FROM pg_database;
"

# æŸ¥çœ‹é€£æ¥æ•¸
docker exec twenty-db psql -U postgres -d default -c "
SELECT count(*) FROM pg_stat_activity;
"
```

---

## ğŸ“ æ”¯æŒ

### æŸ¥çœ‹æ—¥èªŒä½ç½®

```bash
# Docker æ—¥èªŒ
docker-compose logs -f

# PostgreSQL æ—¥èªŒ
docker exec twenty-db cat /var/log/postgresql/postgresql-*.log

# ç³»çµ±æ—¥èªŒ
journalctl -u docker
```

### ç²å–ç³»çµ±ä¿¡æ¯

```bash
# ç³»çµ±è³‡æº
free -h
df -h

# Docker ä¿¡æ¯
docker info
docker-compose version
```

---

## âœ… æª¢æŸ¥æ¸…å–®

### éƒ¨ç½²å‰

- [ ] Docker å’Œ Docker Compose å·²å®‰è£
- [ ] é˜²ç«ç‰†è¦å‰‡å·²è¨­ç½®
- [ ] .env æ–‡ä»¶å·²æ­£ç¢ºé…ç½®
- [ ] å‚™ä»½æ–‡ä»¶å·²æº–å‚™å¥½
- [ ] Docker æ˜ åƒå·²æº–å‚™å¥½

### éƒ¨ç½²å¾Œ

- [ ] æ‰€æœ‰æœå‹™ç‹€æ…‹ç‚º healthy
- [ ] å¯ä»¥è¨ªå• http://YOUR_IP:8866
- [ ] å¯ä»¥æˆåŠŸç™»å…¥
- [ ] å ±åƒ¹å–®åŠŸèƒ½æ­£å¸¸
- [ ] Workflow åŠŸèƒ½æ­£å¸¸
- [ ] å·²åŸ·è¡Œé¦–æ¬¡å‚™ä»½

### æ¯æ¬¡é‡å•Ÿå¾Œ

- [ ] åŸ·è¡Œ quick-fix-url.shï¼ˆä¿®æ­£å‰ç«¯ URLï¼‰
- [ ] é©—è­‰æœå‹™å¥åº·ç‹€æ…‹
- [ ] æ¸¬è©¦ç™»å…¥åŠŸèƒ½

---

## ğŸ“ é™„éŒ„

### A. ç”Ÿæˆå®‰å…¨å¯†é‘°

```bash
# ç”Ÿæˆ 32 å­—ç¬¦éš¨æ©Ÿå­—ä¸²
openssl rand -base64 32

# æˆ–ä½¿ç”¨ Python
python3 -c "import secrets; print(secrets.token_urlsafe(32))"
```

### B. Docker æ˜ åƒç‰ˆæœ¬ç®¡ç†

```bash
# æ¨™è¨˜ç‰ˆæœ¬
docker tag twenty-zh-tw:latest twenty-zh-tw:v1.0.0
docker tag twenty-zh-tw:latest twenty-zh-tw:v1.0.1

# åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
docker images | grep twenty-zh-tw

# åˆªé™¤èˆŠç‰ˆæœ¬
docker rmi twenty-zh-tw:v1.0.0
```

### C. æ•¸æ“šåº«ç®¡ç†

```bash
# é€²å…¥ PostgreSQL
docker exec -it twenty-db psql -U postgres -d default

# åˆ—å‡ºæ‰€æœ‰è¡¨
\dt core.*
\dt workspace_1wgvd1injqtife6y4rvfbu3h5.*

# æŸ¥çœ‹è¡¨å¤§å°
\dt+ core.*

# é€€å‡º
\q
```

---

## ğŸ“… ç¶­è­·è¨ˆåŠƒ

### æ¯æ—¥
- [ ] æª¢æŸ¥æœå‹™ç‹€æ…‹
- [ ] æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ

### æ¯é€±
- [ ] åŸ·è¡Œæ•¸æ“šå‚™ä»½
- [ ] æª¢æŸ¥ç£ç›¤ç©ºé–“
- [ ] æª¢æŸ¥ç³»çµ±æ›´æ–°

### æ¯æœˆ
- [ ] å®Œæ•´ç³»çµ±å‚™ä»½
- [ ] æª¢æŸ¥å®‰å…¨æ›´æ–°
- [ ] å¯©æŸ¥ç”¨æˆ¶åˆ—è¡¨

---

**å‰µå»ºæ—¥æœŸï¼š** 2025-11-03
**æœ€å¾Œæ›´æ–°ï¼š** 2025-11-03
**é©ç”¨ç‰ˆæœ¬ï¼š** Twenty CRM v1.0.0 (è‡ªå®šç¾©ä¸­æ–‡ç‰ˆ)

