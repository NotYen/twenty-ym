# Twenty é–‹æº Cherry-pick è¨˜éŒ„

> æ­¤æ–‡ä»¶è¨˜éŒ„å¾ Twenty é–‹æºå°ˆæ¡ˆ main åˆ†æ”¯ cherry-pick åˆ°æœ¬åœ° dev_yen åˆ†æ”¯çš„ commitsã€‚
>
> æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š2025-12-26
>
> é–‹æº main åˆ†æ”¯æœ€æ–° commitï¼š`9aa77ab991` - Fix composite upsert (#16718)

---

## ğŸ“Š Cherry-pick çµ±è¨ˆ

| é¡åˆ¥ | æ•¸é‡ |
|------|------|
| å·² Cherry-pick | 62 å€‹ |
| æ·»åŠ çš„ä¾è³´æª”æ¡ˆ | 5 å€‹ |
| åˆ†æå¾Œä¸å»ºè­° Cherry-pick | 11 å€‹ |

---

## âœ… å·² Cherry-pick çš„ Commits

### æ—©æœŸæ‰¹æ¬¡ï¼ˆ2025-12-03ï¼‰

| åŸå§‹ Commit | PR | èªªæ˜ | Cherry-pick æ—¥æœŸ |
|-------------|-----|------|------------------|
| `63afed6400` | #16070 | ğŸ”’ Security - add throttle in message resend | 2025-12-03 |
| `bf818b7d8d` | #16261 | Fixed sample CSV file generation | 2025-12-03 |
| `3274c18a90` | #16264 | Fix command menu focus | 2025-12-03 |
| `05b30554c3` | #16244 | Add back first column shrink on mobile | 2025-12-03 |
| `21c023c6d6` | #16257 | Fixed create new optimistic | 2025-12-03 |
| `2cdf5ae75b` | #16221 | fix(theme): prevent forced light mode switch after login | 2025-12-03 |
| `1fcb8b464c` | #16134 | fix: move vite plugins into the packages that use them | 2025-12-03 |
| `19fc20173b` | #16201 | fix: lagging issue in ask AI during message streaming | 2025-12-03 |
| `9387680020` | #16177 | Rollback standard id removal on relation object creation | 2025-12-03 |
| `cd699cbda1` | #16186 | Fix message sync | 2025-12-03 |
| `f2cdf8a6e1` | #16181 | message folder ui enhancement | 2025-12-03 |
| `4ed8c8ed32` | #16249 | Fix SDK/CreateApp CI changed-files-check | 2025-12-03 |
| `900401c101` | #16262 | 16248 follow ups | 2025-12-03 |
| `13e283fc3a` | #16247 | Rename roleTargets -> roleTarget | 2025-12-03 |
| `6ea817dd6c` | #16238 | Add base application project yarn release file | 2025-12-03 |
| `269135e8c5` | #16239 | Add allow same origin to the iFrame widget | 2025-12-03 |
| `5abab1feb2` | #16242 | Fix yarn lock | 2025-12-03 |
| `79e2602790` | #16183 | Remove IS_MESSAGE_FOLDER_CONTROL_ENABLED feature flag | 2025-12-03 |
| `7620e1b0a6` | #16176 | Fix markdown link formatting in CONTRIBUTING.md | 2025-12-03 |
| `23a7611aac` | #16179 | revert to align center as we add an issue on edit mode | 2025-12-03 |
| `9f62188ba6` | #16187 | Field and object metadata naming does not refer to v2 | 2025-12-03 |
| `eedb163131` | #16230 | Field metadata and object metadata v1 relicas | 2025-12-03 |
| `59f0f6f9db` | #16246 | Release 1.12.0 | 2025-12-03 |
| `2922a1ee5a` | #16235 | Add community Sealos template in self-hosted cloud provider docs | 2025-12-03 |

### æ•ˆèƒ½å„ªåŒ–é¡

| åŸå§‹ Commit | PR | èªªæ˜ | Cherry-pick æ—¥æœŸ |
|-------------|-----|------|------------------|
| `cee63c6eb5` | #16419 | â­ Improved table flash on reload | 2025-12-18 |
| `533f6a95ac` | #16391 | Workflow statuses update - use cache instead of web sockets | 2025-12-18 |
| `9815adf983` | #16523 | Fixed Apollo cache bug | 2025-12-18 |
| `ac89b5aff6` | #16398 | â­ Improve object record changed performances (fastDeepEqual) | 2025-12-20 |

### UI/UX Bugfix é¡

| åŸå§‹ Commit | PR | èªªæ˜ | Cherry-pick æ—¥æœŸ |
|-------------|-----|------|------------------|
| `05c0a5184d` | #16603 | Fix Links, Array, Emails, Phones inputs | 2025-12-18 |
| `e68f99e5d0` | #16622 | Fix drag and drop in dropdown | 2025-12-18 |
| `cdf859ef63` | #16658 | Fix text overflow in view picker | 2025-12-18 |
| `b2590ec147` | #16643 | Fix/close filter by enter | 2025-12-18 |
| `ddce32aa52` | #16490 | Fix overflow text with tooltip | 2025-12-18 |
| `023efc088c` | #15825 | Fixed immediate UI update after Enter | 2025-12-18 |
| `7f0761707b` | #16424 | Fix is empty filter for numbers | 2025-12-18 |
| `b06fdb1bf3` | #16478 | Fix action menu modals rendering | 2025-12-18 |
| `f63ffc1b48` | #16140 | Currency input field fix | 2025-12-18 |
| `71f5e6832c` | #16465 | Forbid default value removal for select | 2025-12-18 |
| `12cea6c515` | #16450 | Fix CSV export format | 2025-12-18 |
| `31f2b5a56b` | #16442 | Fix fetch more notes | 2025-12-18 |
| `b4e9679514` | #16502 | Fix raw json field display | 2025-12-18 |
| `5632e9f5c5` | #16471 | Fixed workflow filter initialization | 2025-12-18 |
| `8599bbe602` | #16120 | Fix legend toggle for charts | 2025-12-18 |
| `d98860adf8` | #16446 | Fix file preview modal full screen | 2025-12-18 |
| `754fa66b25` | #16382 | Fix switch view type from Layout | 2025-12-18 |
| `984d3a1273` | #16665 | Fixed command menu and main container layout | 2025-12-18 |
| `701132ef05` | #16661 | Fix command menu input text color | 2025-12-18 |
| `b17e45f272` | #16455 | Wrap nav drawer with overflowing text with tooltip | 2025-12-20 |
| `dc1bf8dac9` | #16752 | Fix Hide empty groups in List view | 2025-12-26 |
| `08527930d7` | #16789 | Fix visible fields count updates | 2025-12-26 |
| `766822d04b` | #16731 | Fix dashboard drag error | 2025-12-26 |
| `1dbb326fd6` | #16762 | Fix workflow step title transferring | 2025-12-26 |
| `ba76cf4fed` | #16769 | Fix Record label identifier setting | 2025-12-26 |
| `9c49f4ba82` | #16728 | Fix Global workflows not pinned | 2025-12-26 |
| `81918e8720` | #16750 | Increase hover target area for workflow node dots | 2025-12-26 |
| `1d2aba5b22` | #16684 | Make view bar filter dropdown scrollable | 2025-12-26 |
| `9aa77ab991` | #16718 | Fix composite upsert | 2025-12-26 |

### å·²å­˜åœ¨æ–¼åˆ†æ”¯ä¸­ï¼ˆç„¡éœ€ Cherry-pickï¼‰

| åŸå§‹ Commit | PR | èªªæ˜ | æœ¬åœ°å°æ‡‰ Commit |
|-------------|-----|------|-----------------|
| `b5ec6df62f` | #16197 | Improve command menu animation | `29f160e78d` |
| `61a469cff8` | #16322 | Fix Timeline blinking | `d02255737f` |
| `982964efbf` | #15655 | Fix scroll to start when resize columns | `39ea1cc421` |

---

## ğŸ“ æ·»åŠ çš„ä¾è³´æª”æ¡ˆ

ç‚ºäº†è®“ cherry-pick çš„ commits æ­£å¸¸é‹ä½œï¼Œé¡å¤–æ·»åŠ äº†ä»¥ä¸‹æª”æ¡ˆï¼š

| æª”æ¡ˆ/è³‡æ–™å¤¾ | èªªæ˜ |
|-------------|------|
| `packages/twenty-front/src/modules/ui/layout/resizable-panel/` | æ•´å€‹è³‡æ–™å¤¾ - ResizablePanel çµ„ä»¶ |
| `packages/twenty-front/src/modules/command-menu/components/CommandMenuWidthEffect.tsx` | Command Menu å¯¬åº¦æ•ˆæœçµ„ä»¶ |
| `packages/twenty-front/src/modules/command-menu/states/commandMenuWidthState.ts` | Command Menu å¯¬åº¦ç‹€æ…‹ |
| `packages/twenty-front/src/utils/recoil/localStorageEffect.ts` | Recoil localStorage æ•ˆæœ |
| `packages/twenty-front/src/modules/views/hooks/internal/useHasFiltersInQueryParams.ts` | æª¢æŸ¥ URL åƒæ•¸ä¸­çš„ filters |
| `packages/twenty-front/src/modules/views/schemas/` | æ•´å€‹è³‡æ–™å¤¾ - Views schemas |

---

## âŒ åˆ†æå¾Œä¸å»ºè­° Cherry-pick çš„ Commits

### `1607aebcc6` - Deprecate object metadata maps (#16080)

| é …ç›® | å…§å®¹ |
|------|------|
| é¢¨éšªç­‰ç´š | ğŸ”´ æ¥µé«˜ |
| æª”æ¡ˆè®Šæ›´ | 281 å€‹æª”æ¡ˆ |
| æ–°å¢/åˆªé™¤ | +6,499 / -6,616 è¡Œ |

**åŸå› **ï¼š
- é€™æ˜¯æ¶æ§‹ç´šåˆ¥çš„é‡æ§‹ï¼Œå°‡ `ObjectMetadataItemWithFieldMaps` æ”¹ç‚º `FlatObjectMetadata`
- æ¶‰åŠæ ¸å¿ƒ API å±¤ã€metadata è™•ç†ã€workspace æ¨¡çµ„
- åˆªé™¤äº†æ•´å€‹ `workspace-health` æ¨¡çµ„
- è¡çªé¢¨éšªæ¥µé«˜ï¼Œé›£ä»¥å–®ç¨ cherry-pick

**å»ºè­°**ï¼šç­‰åˆ°éœ€è¦å¤§ç‰ˆæœ¬å‡ç´šæ™‚å†ä¸€èµ·è™•ç†

---

### `1bc344c6fa` - Dashboard filter parsing (#16782)

| é …ç›® | å…§å®¹ |
|------|------|
| é¢¨éšªç­‰ç´š | ğŸ”´ é«˜ |
| åŠŸèƒ½èªªæ˜ | ä¿®å¾©é»æ“Šåœ–è¡¨ slice/bar è·³è½‰æ™‚çš„ filter è§£æéŒ¯èª¤ |
| å½±éŸ¿æ¬„ä½ | CURRENCYã€MULTI_SELECTã€ADDRESS |

**ä¾è³´éˆï¼ˆéœ€è¦æŒ‰é †åº cherry-pick 5 å€‹ commitsï¼‰**ï¼š

| é †åº | Commit | PR | èªªæ˜ | æª”æ¡ˆæ•¸ |
|------|--------|-----|------|--------|
| 1 | `3be3c4e965` | #16013 | åŸºç¤æ¶æ§‹ï¼šé»æ“Šåœ–è¡¨è·³è½‰åŠŸèƒ½ | 35 |
| 2 | `32a876bbd4` | #16142 | æ“´å±•æ—¥æœŸ filter æ”¯æ´ | 10 |
| 3 | `fa87603fd8` | #16093 | Relation fields groupby | 22 |
| 4 | `0b5be7caa3` | #16544 | âš ï¸ Date to Temporal é‡æ§‹ï¼ˆæ ¸å¿ƒæ¶æ§‹è®Šæ›´ï¼‰ | **205** |
| 5 | `1bc344c6fa` | #16782 | ä¿®å¾© filter parsing bug | 3 |

**ç¸½è¨ˆ**ï¼š~275 å€‹æª”æ¡ˆï¼Œ~6000+ è¡Œè®Šæ›´

**åŸå› **ï¼š
- æœ¬åœ°åˆ†æ”¯ç¼ºå°‘ `buildFilterFromChartBucket.ts` ç­‰åŸºç¤æª”æ¡ˆ
- `#16544` (Date to Temporal) æ˜¯æ ¸å¿ƒæ¶æ§‹è®Šæ›´ï¼Œå½±éŸ¿æ•´å€‹æ—¥æœŸè™•ç†ï¼ˆ80% çš„ appï¼‰
- é¢¨éšªå¤ªé«˜ï¼Œå»ºè­°ç­‰å¤§ç‰ˆæœ¬å‡ç´šæ™‚ä¸€èµ·è™•ç†

**å»ºè­°**ï¼šç­‰å¤§ç‰ˆæœ¬å‡ç´šæ™‚ä¸€èµ·è™•ç†

---

### `0849dda153` - Gmail error handling fixes (#16719)

| é …ç›® | å…§å®¹ |
|------|------|
| é¢¨éšªç­‰ç´š | ğŸŸ  ä¸­é«˜ |
| åŠŸèƒ½èªªæ˜ | æ”¹å–„ Gmail æ•´åˆçš„éŒ¯èª¤è™•ç†ä¸€è‡´æ€§ |

**ä¾è³´éˆï¼ˆéœ€è¦æŒ‰é †åº cherry-pick 4 å€‹ commitsï¼‰**ï¼š

| é †åº | Commit | PR | èªªæ˜ | æª”æ¡ˆæ•¸ |
|------|--------|-----|------|--------|
| 1 | `5202e2b2db` | #16094 | é‡æ§‹ Gmail error handling æ¶æ§‹ | 32 |
| 2 | `2790d5dd93` | #16389 | Message fixes + æ›´å¤š logs | 10 |
| 3 | `a83732d7a6` | #16448 | ä¿®å¾© messaging error parsing | 7 |
| 4 | `0849dda153` | #16719 | Gmail error handling fixes | 5 |

**ç¸½è¨ˆ**ï¼š~54 å€‹æª”æ¡ˆï¼Œ~820+ è¡Œè®Šæ›´

**åŸå› **ï¼š
- æœ¬åœ°åˆ†æ”¯ç¼ºå°‘ `gmail-folders-error-handler.service.ts` å’Œ `google-email-alias-error-handler.service.ts`
- `#16094` æ˜¯æ¶æ§‹é‡æ§‹ï¼Œæ”¹è®Šäº† Gmail éŒ¯èª¤è™•ç†æ–¹å¼ï¼ˆå¾ class æ³¨å…¥æ”¹ç‚º utility functionï¼‰
- éœ€è¦åŒæ­¥æ•´å€‹ä¾è³´éˆæ‰èƒ½æ­£å¸¸é‹ä½œ

**å»ºè­°**ï¼šå¦‚æœ Gmail åŒæ­¥åŠŸèƒ½æ­£å¸¸é‹ä½œï¼Œå¯ä»¥æš«ç·©ï¼›ç­‰å¤§ç‰ˆæœ¬å‡ç´šæ™‚ä¸€èµ·è™•ç†

---

### è³‡æ–™åº«é·ç§»é¡ï¼ˆé«˜é¢¨éšªï¼‰

ä»¥ä¸‹ commits æ¶‰åŠè³‡æ–™åº« schema é·ç§»ï¼Œçµ•å°ä¸è¦å–®ç¨ cherry-pickï¼š

| Commit | PR | èªªæ˜ | é¢¨éšªç­‰ç´š |
|--------|-----|------|----------|
| `77409b6eb2` | #16206 | Migrate viewGroup.fieldMetadataId | ğŸ”´ æ¥µé«˜ |
| `ea3c5d2d45` | #16009 | Migrate role and role target to v2 | ğŸ”´ æ¥µé«˜ |
| `5016c25daa` | #16178 | Remove viewGroup v1 implem | ğŸ”´ æ¥µé«˜ |

**åŸå› **ï¼šè³‡æ–™åº«é·ç§»éœ€è¦æŒ‰é †åºåŸ·è¡Œï¼Œå–®ç¨ cherry-pick æœƒå°è‡´ schema ä¸ä¸€è‡´

---

### Null Equivalence ç³»çµ±è®Šæ›´ï¼ˆé«˜é¢¨éšªï¼‰

ä»¥ä¸‹ commits æ¶‰åŠ Null Equivalence ç³»çµ±è®Šæ›´ï¼Œçµ•å°ä¸è¦å–®ç¨ cherry-pickï¼š

| Commit | PR | èªªæ˜ | é¢¨éšªç­‰ç´š |
|--------|-----|------|----------|
| `68c429a54a` | #16222 | Null equivalence - remove feature flag | ğŸ”´ æ¥µé«˜ |
| `5e00893c37` | #16217 | Null equivalence - Empty string default value cleaning | ğŸ”´ æ¥µé«˜ |
| `638d4015a1` | #16209 | Null equivalence - Activate FF for all | ğŸ”´ æ¥µé«˜ |
| `00e970bdf4` | #16241 | Null - Second command - Cleaning remaining empty values | ğŸ”´ æ¥µé«˜ |

**åŸå› **ï¼šé€™æ˜¯ç³»çµ±ç´šåˆ¥çš„è³‡æ–™è™•ç†é‚è¼¯è®Šæ›´ï¼Œéœ€è¦å®Œæ•´çš„é·ç§»æµç¨‹

---

### åŠŸèƒ½èªªæ˜è£œå……

**Dashboard Filter Parsing (#16782)**ï¼š
- ç•¶é»æ“Šåœ–è¡¨çš„æŸå€‹ sliceï¼ˆåœ“é¤…åœ–ï¼‰æˆ– barï¼ˆé•·æ¢åœ–ï¼‰æ™‚ï¼Œæœƒè‡ªå‹•å¸¶å…¥ filter è·³è½‰åˆ°å°æ‡‰çš„è³‡æ–™åˆ—è¡¨
- æŸäº›æ¬„ä½é¡å‹çš„ filter å€¼å‚³éæ ¼å¼éŒ¯èª¤ï¼Œå°è‡´ JSON parse error
- å¦‚æœä½ æ²’æœ‰ä½¿ç”¨ã€Œé»æ“Šåœ–è¡¨è·³è½‰ã€åŠŸèƒ½ï¼Œé€™å€‹ bug ä¸å½±éŸ¿ä½ 

**Date to Temporal (#16544)**ï¼š
- æŠŠ JavaScript åŸç”Ÿçš„ `Date` ç‰©ä»¶æ›æˆæ–°çš„ `Temporal` API
- ä¸»è¦ä¿®å¾©æ™‚å€ç›¸é—œçš„ bugï¼Œä¸æ˜¯æ–°å¢åŠŸèƒ½
- å¦‚æœç”¨æˆ¶éƒ½åœ¨åŒä¸€å€‹æ™‚å€ï¼ˆå°ç£ï¼‰ï¼Œé€™å€‹ä¿®å¾©ä¸æ˜¯å¾ˆæ€¥è¿«

**Gmail Error Handling (#16719)**ï¼š
- æ”¹å–„ Gmail æ•´åˆçš„éŒ¯èª¤è™•ç†ä¸€è‡´æ€§
- å¦‚æœä½ æ²’æœ‰ä½¿ç”¨ Gmail åŒæ­¥åŠŸèƒ½ï¼Œå®Œå…¨ä¸å½±éŸ¿

---

## ğŸ” å¾…è©•ä¼°çš„ Commits

ä»¥ä¸‹æ˜¯å¯èƒ½æœ‰åƒ¹å€¼ä½†å°šæœªè©³ç´°è©•ä¼°çš„ commitsï¼š

| Commit | PR | èªªæ˜ | å‚™è¨» |
|--------|-----|------|------|
| `2691222d5f` | #16063 | Improve board experience | Kanban è¦–åœ–å„ªåŒ–ï¼Œæœ‰å¾Œç«¯è¡çª |

---

## ğŸ“ æœ¬åœ°è‡ªè¨‚ä¿®æ”¹

ä»¥ä¸‹æ˜¯æœ¬åœ°åˆ†æ”¯çš„è‡ªè¨‚ä¿®æ”¹ï¼ˆé cherry-pickï¼‰ï¼š

| Commit | èªªæ˜ |
|--------|------|
| `b98cc765cb` | Fine tune åˆ‡æ›é é¢ call api or read cache æ©Ÿåˆ¶ PART III |
| `6f5c86e0b2` | Fine tune åˆ‡æ›é é¢ call api or read cache æ©Ÿåˆ¶ PART II |
| `e4b1f70ca5` | Fine tune åˆ‡æ›é é¢ call api or read cache æ©Ÿåˆ¶ |
| `729ee60fa3` | Bugreport function (Sentry.io) + UI bugfix |
| å…¶ä»– | å¤šç§Ÿæˆ¶åŠŸèƒ½ã€ç¹ä¸­æ–‡æ¡ˆã€workspace_config ç­‰ |

---

## ğŸ”§ Apollo Client è¨­å®šè®Šæ›´

| é …ç›® | åŸå§‹å€¼ | ä¿®æ”¹å¾Œ |
|------|--------|--------|
| fetchPolicy | `cache-and-network` | `cache-first` |
| éª¨æ¶å±è¡Œæ•¸ | 80 | 30 |

**æª”æ¡ˆ**ï¼š
- `packages/twenty-front/src/modules/apollo/hooks/useApolloFactory.ts`
- `packages/twenty-front/src/modules/object-record/record-table/record-table-body/components/RecordTableBodyLoading.tsx`

---

## ğŸ“Œ å¦‚ä½•ä½¿ç”¨æ­¤æ–‡ä»¶

1. **æŸ¥çœ‹å·² cherry-pick çš„ commits**ï¼šæª¢æŸ¥ã€Œå·² Cherry-pick çš„ Commitsã€å€å¡Š
2. **è©•ä¼°æ–°çš„ commits**ï¼š
   ```bash
   # æŸ¥çœ‹ main åˆ†æ”¯æœ€æ–° commits
   git log main --oneline -50

   # æŸ¥çœ‹ç‰¹å®š commit è©³æƒ…
   git show <commit-hash> --stat
   ```
3. **Cherry-pick æ–°çš„ commit**ï¼š
   ```bash
   git cherry-pick <commit-hash> --no-commit
   # è§£æ±ºè¡çªå¾Œ
   git add .
   git commit -m "Cherry-pick: <æè¿°> (#PRè™Ÿ)"
   ```
4. **æ›´æ–°æ­¤æ–‡ä»¶**ï¼šæ¯æ¬¡ cherry-pick å¾Œè«‹æ›´æ–°æ­¤æ–‡ä»¶

---

## ğŸ“… æ›´æ–°æ­·å²

| æ—¥æœŸ | æ›´æ–°å…§å®¹ |
|------|----------|
| 2025-12-03 | åˆå§‹æ‰¹æ¬¡ï¼Œcherry-pick 24 å€‹ commitsï¼ˆå®‰å…¨ä¿®å¾©ã€bug ä¿®å¾©ç­‰ï¼‰|
| 2025-12-20 | æ•´ç†æ–‡ä»¶ï¼Œè¨˜éŒ„ 29 å€‹ cherry-pick commits |
| 2025-12-20 | æ–°å¢ `ac89b5aff6` (fastDeepEqual) å’Œ `b17e45f272` (nav drawer tooltip) |
| 2025-12-26 | æ–°å¢ 9 å€‹ bugfix commitsï¼ˆ#16752, #16789, #16731, #16762, #16769, #16728, #16750, #16684, #16718ï¼‰|
| 2025-12-26 | è©³ç´°åˆ†æ Dashboard Filter (#16782) å’Œ Gmail Error (#16719) çš„ä¾è³´éˆï¼Œæ±ºå®šæš«ç·© |
| 2025-12-26 | æ•´åˆ `Cherry-pické€²åº¦å ±å‘Š_20251203.md`ï¼Œçµ±ä¸€è¨˜éŒ„æ ¼å¼ |
